<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %} 
    <link rel="stylesheet" href="{% static 'styles/screensaver.css' %}""> 
    {% load static %}
    <link rel="stylesheet" href="{% static 'styles/general.css' %}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap"
      rel="stylesheet"/>
    <title>Smart-board</title>
  </head>
  <body>
    <a href="/home">
      <div class="quick-access">
        <p class="time">{{ time }}</p>
        <p class="date">{{ date }}</p>
      </div>
    </a>

  </body>
  <script>
    const loc = window.location
    
    const protocol = 'ws://'
    if (loc.protocol == 'https'){
      const protocol = 'wss://'
    }

    const connection = protocol + loc.host + '/ws/time/';
    var socket = new WebSocket(connection);

    socket.onmessage = function (e) {
        var djangoData = JSON.parse(e.data);

        document.querySelector('.time').innerText = djangoData.time;
        document.querySelector('.date').innerText = djangoData.date;
    }
  </script>
</html>
